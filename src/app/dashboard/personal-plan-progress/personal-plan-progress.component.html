<div style="height: 30px">
  <button routerLink="plan" *ngIf="futurePlan" mat-button style="height: 30px">

    <mat-progress-bar *ngIf="futurePlan.status === 'Active' && !planCompleted"
                      class="progress"
                      mode="determinate"
                      value="{{count}}">
    </mat-progress-bar>
    <mat-progress-bar *ngIf="futurePlan.status === 'Available'" class="progress available"></mat-progress-bar>
    <mat-progress-bar *ngIf="futurePlan.status === 'Expired'" class="progress expired"></mat-progress-bar>
    <mat-progress-bar *ngIf="futurePlan.status === 'Ended'" class="progress completed"></mat-progress-bar>
    <mat-progress-bar *ngIf="planCompleted" class="progress completed"></mat-progress-bar>

  <ng-container *ngIf="futurePlan">
    <div routerLink="plan" *ngIf="futurePlan.status === 'Active' && !planCompleted">
      <div  class="timer" *ngIf="secondsToSample < secondsInDay">
        <span>Осталось: {{secondsToSample * 1000 | date:'HH:mm:ss':'+0000'}}</span>
      </div>

      <div class="timer" *ngIf="secondsToSample >= secondsInDay">
        <span>{{dayToSample | i18nPlural: left:'ru'}}</span>
        {{dayToSample}}
        <span>{{dayToSample | i18nPlural: days:'ru'}}</span>
      </div>
    </div>

    <div routerLink="plan" class="timer">
      <span *ngIf="futurePlan.status === 'Available'">Активируйте план.</span>
      <span *ngIf="futurePlan.status === 'Ended'">Модуль пройден.</span>
      <span *ngIf="futurePlan.status === 'Expired'">План провален.</span>
      <span *ngIf="planCompleted">План выполнен.</span>
    </div>
  </ng-container>
  </button>
</div>
