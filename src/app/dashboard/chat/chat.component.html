<div class="container">
  <button mat-fab
          color="accent"
          [class.answered]="messages.length && messages[messages.length - 1].owner === 'SUPPORT'"
          *ngIf="!isOpen"
          (click)="open()"
          title="Чат поддержки">
    <mat-icon>chat</mat-icon>
  </button>

  <div class="chat" *ngIf="isOpen">

    <div class="header">
      <button class="close-button" mat-icon-button (click)="close()" title="Закрыть"><mat-icon>close</mat-icon></button>
      <div>
        Чат поддержки
      </div>
    </div>
    <div class="body">
      <div class="messages" #messagesContainer>
        <div class="message" *ngFor="let message of messages">
          <p><b>{{getName(message.owner)}}</b>:<br>{{message.message}}</p>
        </div>
      </div>
      <div class="input-field">
        <mat-form-field color="primary" class="full-width">
          <textarea matInput [(ngModel)]="message" placeholder="Задайте вопрос" (keydown.enter)="send(); false"></textarea>
        </mat-form-field>
      </div>
    </div>
  </div>
</div>

