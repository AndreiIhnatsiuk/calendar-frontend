<div class="container">
  <button mat-fab
          color="accent"
          [class.answered]="messages.length && messages[messages.length - 1].owner === 'SUPPORT'"
          *ngIf="!isOpen"
          (click)="open()"
          title="Чат поддержки">
    <mat-icon>chat</mat-icon>
  </button>

  <div class="chat" *ngIf="isOpen">

    <div class="header">
      <button class="close-button" mat-icon-button (click)="close()" title="Закрыть">
        <mat-icon>close</mat-icon>
      </button>
      <div>
        Чат поддержки
      </div>
    </div>
    <div class="body">
      <as-split direction="vertical">
        <as-split-area [size]="80" minSize="20">
          <div class="messages" #messagesContainer>
            <div class="message" *ngFor="let message of messages">
              <p><b>{{getName(message.owner)}}</b>:<br>{{message.message}}<a *ngIf="message.id === -1" href="https://t.me/itman_community">@itman_community</a></p>
            </div>
          </div>
        </as-split-area>
        <as-split-area class="input-field" [size]="20" minSize="20">
              <textarea matInput [(ngModel)]="message" placeholder="Задайте вопрос"
                        (keydown.enter)="send(); false">
              </textarea>
        </as-split-area>
      </as-split>
    </div>
  </div>
</div>

